<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive 3D VR Space Explorer - Explore our Solar System in stunning detail">
    <title>🚀 Space Explorer - Interactive 3D Solar System</title>
    
    <!-- Favicon (using data URI to prevent 404) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>🌌</text></svg>">
    
    <!-- Preload critical styles -->
    <link rel="preload" href="./src/styles/main.css" as="style">
    <link rel="preload" href="./src/styles/ui.css" as="style">
    <link rel="stylesheet" href="./src/styles/main.css">
    <link rel="stylesheet" href="./src/styles/ui.css">
    
    <!-- Performance optimization -->
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
</head>
<body>
    <header id="main-header" role="banner">
        <div class="logo">
            <h1>🚀 Space Explorer</h1>
        </div>
        <div class="header-controls">
            <nav id="quick-nav" aria-label="Quick navigation">
                <select id="object-dropdown" class="nav-dropdown" aria-label="Navigate to celestial object">
                    <option value="" selected>🚀 Quick Navigation</option>
                    <optgroup label="☀️ Our Star">
                        <option value="sun">☀️ Sun</option>
                    </optgroup>
                    <optgroup label="☿ Mercury">
                        <option value="mercury">☿ Mercury</option>
                    </optgroup>
                    <optgroup label="♀ Venus">
                        <option value="venus">♀ Venus</option>
                    </optgroup>
                    <optgroup label="🌍 Earth System">
                        <option value="earth">🌍 Earth</option>
                        <option value="moon">🌙 Moon</option>
                    </optgroup>
                    <optgroup label="♂ Mars System">
                        <option value="mars">♂ Mars</option>
                        <option value="phobos">🌑 Phobos</option>
                        <option value="deimos">🌑 Deimos</option>
                    </optgroup>
                    <optgroup label="♃ Jupiter System">
                        <option value="jupiter">♃ Jupiter</option>
                        <option value="io">🌋 Io</option>
                        <option value="europa">❄️ Europa</option>
                        <option value="ganymede">🌙 Ganymede</option>
                        <option value="callisto">🌙 Callisto</option>
                    </optgroup>
                    <optgroup label="♄ Saturn System">
                        <option value="saturn">♄ Saturn</option>
                        <option value="titan">🌊 Titan</option>
                        <option value="enceladus">💦 Enceladus</option>
                        <option value="rhea">💫 Rhea</option>
                    </optgroup>
                    <optgroup label="♅ Uranus System">
                        <option value="uranus">♅ Uranus</option>
                        <option value="titania">🏔️ Titania</option>
                        <option value="miranda">🏔️ Miranda</option>
                    </optgroup>
                    <optgroup label="♆ Neptune System">
                        <option value="neptune">♆ Neptune</option>
                        <option value="triton">❄️ Triton</option>
                    </optgroup>
                    <optgroup label="♇ Pluto System">
                        <option value="pluto">♇ Pluto</option>
                        <option value="charon">🌙 Charon</option>
                    </optgroup>
                    <optgroup label="⭐ Nearby Stars">
                        <option value="alpha-centauri">⭐ Alpha Centauri</option>
                        <option value="proxima-centauri">🔴 Proxima Centauri</option>
                    </optgroup>
                    <optgroup label="🪐 Exoplanets">
                        <option value="proxima-b">🌍 Proxima Centauri b</option>
                        <option value="kepler-452b">🌎 Kepler-452b</option>
                        <option value="trappist-1e">🌏 TRAPPIST-1e</option>
                        <option value="kepler-186f">🌍 Kepler-186f</option>
                    </optgroup>
                    <optgroup label="🌌 Nebulae">
                        <option value="orion-nebula">🌈 Orion Nebula</option>
                        <option value="crab-nebula">💥 Crab Nebula</option>
                        <option value="ring-nebula">💍 Ring Nebula</option>
                    </optgroup>
                    <optgroup label="🌀 Galaxies">
                        <option value="andromeda-galaxy">🌌 Andromeda Galaxy</option>
                        <option value="whirlpool-galaxy">🌀 Whirlpool Galaxy</option>
                        <option value="sombrero-galaxy">🎩 Sombrero Galaxy</option>
                    </optgroup>
                    <optgroup label="🛰️ Spacecraft & Probes">
                        <option value="iss">🛰️ ISS</option>
                        <option value="hubble">🔭 Hubble</option>
                        <option value="voyager-1">🚀 Voyager 1</option>
                        <option value="voyager-2">🚀 Voyager 2</option>
                        <option value="new-horizons">🚀 New Horizons</option>
                        <option value="parker-solar-probe">☀️ Parker Solar Probe</option>
                        <option value="juno">🛰️ Juno (Jupiter)</option>
                        <option value="cassini">🛰️ Cassini (Saturn)</option>
                        <option value="pioneer-10">🛸 Pioneer 10</option>
                        <option value="pioneer-11">🛸 Pioneer 11</option>
                    </optgroup>
                </select>
            </nav>
            <button id="help-button" aria-label="Show help" data-tooltip="Show help and controls (H)">❓ Help</button>
        </div>
    </header>
    <main id="canvas-container" role="main" aria-label="3D visualization canvas"></main>
    
    <div id="loading" role="status" aria-live="polite">
        <h2>✨ Loading Experience...</h2>
        <div class="loading-spinner"></div>
        <p id="loading-text">Initializing...</p>
        <div id="loading-progress">
            <div id="loading-progress-bar"></div>
        </div>
        <p id="loading-percentage">0%</p>
    </div>
    <aside id="info-panel" class="hidden" role="complementary" aria-labelledby="object-name">
        <button class="close-btn" onclick="window.closeInfoPanel()" aria-label="Close information panel">✕</button>
        <h2 id="object-name">Select an Object</h2>
        <div class="info-content">
            <p><strong>Type:</strong> <span id="object-type">-</span></p>
            <p><strong>Distance:</strong> <span id="object-distance">-</span></p>
            <p><strong>Size:</strong> <span id="object-size">-</span></p>
            <div id="object-description" class="description-box">
                Click on objects to explore and learn more
            </div>
        </div>
    </aside>
    <!-- Bottom Bar -->
    <footer id="main-footer" role="contentinfo">
        <div class="footer-controls">
            <div class="control-group">
                <label for="time-speed">⏱️ Speed:</label>
                <input type="range" id="time-speed" min="0" max="12" value="4" step="1" aria-label="Animation speed" />
                <span id="time-speed-label">1 day/sec</span>
            </div>
            
            <button id="toggle-orbits" aria-label="Toggle orbital paths" data-tooltip="Show/hide orbital paths (O)">🛤️ Orbits</button>
            <button id="toggle-constellations" aria-label="Toggle constellations" data-tooltip="Show/hide star constellations (C)">⭐ Constellations</button>
            <button id="toggle-details" aria-label="Toggle details" data-tooltip="Toggle object labels (D)">📊 Labels OFF</button>
            <button id="toggle-scale" aria-label="Toggle realistic scale" class="scale-btn active" data-tooltip="Switch between educational and realistic scale (S)">📏 Educational Scale</button>
            <button id="reset-view" aria-label="Reset camera view" data-tooltip="Reset camera to default view (R)">🔄 Reset</button>
        </div>
        
        <div class="footer-xr-controls">
            <div id="vr-button" class="hidden"></div>
            <div id="ar-button" class="hidden"></div>
        </div>
    </footer>
    
    <div id="fps-counter" class="hidden" aria-live="polite">FPS: <span id="fps-value">60</span></div>
    <div id="help-modal" class="modal hidden" role="dialog" aria-labelledby="help-title" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" onclick="window.closeHelpModal()" aria-label="Close help dialog">✕</button>
            <h2 id="help-title">👋 Welcome to Space Explorer!</h2>
            <div id="help-content" role="document"></div>
        </div>
    </div>
    <!-- Import Map for Three.js from CDN -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>
    
    <!-- Main Application Script with cache buster -->
    <script type="module" src="./src/main.js?v=20251010-1200"></script>
</body>
</html>