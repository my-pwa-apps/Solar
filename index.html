<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive 3D VR Space Explorer - Explore our Solar System in stunning detail">
    <title>🚀 Space Explorer - Interactive 3D Solar System</title>
    
    <!-- Favicon (using data URI to prevent 404) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>🌌</text></svg>">
    
    <!-- Preload critical styles -->
    <link rel="preload" href="./src/styles/main.css" as="style">
    <link rel="preload" href="./src/styles/ui.css" as="style">
    <link rel="stylesheet" href="./src/styles/main.css">
    <link rel="stylesheet" href="./src/styles/ui.css">
    
    <!-- Performance optimization -->
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
</head>
<body>
    <header id="main-header" role="banner">
        <div class="logo">
            <h1>🚀 Space Explorer</h1>
        </div>
    </header>
    <main id="canvas-container" role="main" aria-label="3D visualization canvas"></main>
    
    <div id="loading" role="status" aria-live="polite">
        <h2>✨ Loading Experience...</h2>
        <div class="loading-spinner"></div>
        <p id="loading-text">Initializing...</p>
        <div id="loading-progress">
            <div id="loading-progress-bar"></div>
        </div>
    </div>
    <aside id="info-panel" class="hidden" role="complementary" aria-labelledby="object-name">
        <button class="close-btn" onclick="window.closeInfoPanel()" aria-label="Close information panel">✕</button>
        <h2 id="object-name">Select an Object</h2>
        <div class="info-content">
            <p><strong>Type:</strong> <span id="object-type">-</span></p>
            <p><strong>Distance:</strong> <span id="object-distance">-</span></p>
            <p><strong>Size:</strong> <span id="object-size">-</span></p>
            <div id="object-description" class="description-box">
                Click on objects to explore and learn more
            </div>
        </div>
    </aside>
    <aside id="controls" class="hidden" role="complementary" aria-label="Simulation controls">
        <div class="control-group">
            <label for="time-speed">⏱️ Speed:</label>
            <select id="time-speed" aria-label="Animation speed mode">
                <option value="0">⏸️ Paused</option>
                <option value="1" selected>📚 Educational</option>
                <option value="realtime">⏱️ Realtime (Earth: 1 orbit/day)</option>
            </select>
        </div>
        <button id="toggle-orbits" aria-label="Toggle orbital paths" data-tooltip="Show/hide orbital paths (O)">🛤️ Orbits</button>
        <button id="toggle-details" aria-label="Toggle details" data-tooltip="Toggle object labels (D)">📊 Labels OFF</button>
        <button id="toggle-scale" aria-label="Toggle realistic scale" class="scale-btn active" data-tooltip="Switch between educational and realistic scale (S)">📏 Educational Scale</button>
        <button id="reset-view" aria-label="Reset camera view" data-tooltip="Reset camera to default view (R)">🔄 Reset</button>
    </aside>
    <aside id="object-list" class="hidden" role="navigation" aria-labelledby="explorer-title">
        <h3 id="explorer-title">🔍 Explore</h3>
        <div id="explorer-content" role="list"></div>
    </aside>
    
    <!-- VR mode is handled automatically by Quest 3s browser -->
    
    <button id="help-button" aria-label="Show help" data-tooltip="Show help and controls (H)">❓ Help</button>
    <div id="fps-counter" class="hidden" aria-live="polite">FPS: <span id="fps-value">60</span></div>
    <div id="help-modal" class="modal hidden" role="dialog" aria-labelledby="help-title" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" onclick="window.closeHelpModal()" aria-label="Close help dialog">✕</button>
            <h2 id="help-title">👋 Welcome to Space Explorer!</h2>
            <div id="help-content" role="document"></div>
        </div>
    </div>
    <!-- Import Map for Three.js from CDN -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>
    
    <!-- Main Application Script with cache buster -->
    <script type="module" src="./src/main.js?v=20251007-2105"></script>
</body>
</html>