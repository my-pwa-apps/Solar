<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <!-- Search Engine Blocking - Prevent indexing (paid app in Windows Store) -->
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
    <meta name="googlebot" content="noindex, nofollow">
    <meta name="googlebot-news" content="noindex, nofollow">
    <meta name="bingbot" content="noindex, nofollow">
    <meta name="msnbot" content="noindex, nofollow">
    <meta name="slurp" content="noindex, nofollow">
    <meta name="duckduckbot" content="noindex, nofollow">
    <meta name="baiduspider" content="noindex, nofollow">
    <meta name="yandex" content="noindex, nofollow">
    <meta name="sogou" content="noindex, nofollow">
    <meta name="exabot" content="noindex, nofollow">
    <meta name="facebot" content="noindex, nofollow">
    <meta name="ia_archiver" content="noindex, nofollow">
    
    <!-- Language Detection - Must load first -->
    <link id="pwa-manifest" rel="manifest" href="./manifest.json?v=2.5.23" crossorigin="use-credentials">
    <script type="module" src="./src/modules/LanguageManager.js"></script>
    
    <!-- Primary Meta Tags -->
    <title>Space Voyage - Interactive 3D Solar System & VR Experience</title>
    <meta name="title" content="Space Voyage - Interactive 3D Solar System & VR Experience">
    <meta name="description" content="Explore our Solar System in stunning 3D with VR/AR support. Navigate through planets, moons, spacecraft, nebulae, and galaxies in this free interactive educational experience.">
    <meta name="keywords" content="space, solar system, 3D, VR, AR, planets, astronomy, education, interactive, WebXR, Three.js, stars, galaxies, NASA, spacecraft">
    <meta name="author" content="Space Voyage">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://my-pwa-apps.github.io/Solar/">
    <meta property="og:title" content="Space Voyage - Interactive 3D Solar System & VR Experience">
    <meta property="og:description" content="Explore our Solar System in stunning 3D with VR/AR support. Navigate through planets, moons, spacecraft, nebulae, and galaxies in this free interactive educational experience.">
    <meta property="og:image" content="https://my-pwa-apps.github.io/Solar/screenshots/solar1.png">
    <meta property="og:image:width" content="1920">
    <meta property="og:image:height" content="1080">
    <meta property="og:site_name" content="Space Voyage">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="nl_NL">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://my-pwa-apps.github.io/Solar/">
    <meta name="twitter:title" content="Space Voyage - Interactive 3D Solar System & VR Experience">
    <meta name="twitter:description" content="Explore our Solar System in stunning 3D with VR/AR support. Navigate through planets, moons, spacecraft, nebulae, and galaxies.">
    <meta name="twitter:image" content="https://my-pwa-apps.github.io/Solar/screenshots/solar1.png">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#000011">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Space Voyage">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Space Voyage">
    <meta name="msapplication-TileColor" content="#0078D4">
    <meta name="msapplication-config" content="./browserconfig.xml">
    <meta name="msapplication-square70x70logo" content="./icons/windows11/SmallTile.scale-100.png">
    <meta name="msapplication-square150x150logo" content="./icons/windows11/Square150x150Logo.scale-100.png">
    <meta name="msapplication-wide310x150logo" content="./icons/windows11/Wide310x150Logo.scale-100.png">
    <meta name="msapplication-square310x310logo" content="./icons/windows11/LargeTile.scale-100.png">
    <meta name="msapplication-tooltip" content="Space Voyage - Interactive 3D Solar System">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Fullscreen & Immersive Mode -->
    <meta name="fullscreen" content="yes">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="any">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="app">
    
    <!-- PWA Manifest - Loaded dynamically based on language above -->
    
    <!-- Favicon - Using unplated versions for Windows taskbar/Start Menu/Title Bar -->
    <!-- Modern browsers prefer PNG, but ICO ensures maximum compatibility -->
    <link rel="icon" href="./favicon.ico" sizes="any">
    <link rel="icon" type="image/png" sizes="16x16" href="./icons/windows11/Square44x44Logo.altform-unplated_targetsize-16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./icons/windows11/Square44x44Logo.altform-unplated_targetsize-32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="./icons/windows11/Square44x44Logo.altform-unplated_targetsize-48.png">
    <link rel="icon" type="image/png" sizes="64x64" href="./icons/windows11/Square44x44Logo.altform-unplated_targetsize-64.png">
    <link rel="icon" type="image/png" sizes="128x128" href="./icons/manifest-icon-192.maskable.png">
    <link rel="icon" type="image/png" sizes="256x256" href="./icons/manifest-icon-256.png">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="./icons/apple-icon-180.png">
    <link rel="apple-touch-icon" sizes="192x192" href="./icons/manifest-icon-192.maskable.png">
    <link rel="apple-touch-icon" sizes="512x512" href="./icons/manifest-icon-512.maskable.png">
    
    <!-- Windows 11 App Icon (unplated for taskbar/Start Menu) -->
    <link rel="icon" type="image/png" sizes="44x44" href="./icons/windows11/Square44x44Logo.altform-unplated_targetsize-44.png">
    
    <!-- Performance optimization -->
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="./src/i18n.js?v=2.5.23" as="script">
    <link rel="preload" href="./src/styles/main.css?v=2.5.23" as="style">
    <link rel="preload" href="./src/styles/ui.css?v=2.5.23" as="style">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="./src/styles/main.css?v=2.5.23">
    <link rel="stylesheet" href="./src/styles/ui.css?v=2.5.23">
    
    <!-- Load translations early -->
    <script src="./src/i18n.js?v=2.5.23"></script>
</head>
<body>
    <header id="main-header" role="banner">
        <div class="logo">
            <img src="./icons/android/android-launchericon-48-48.png" alt="Space Voyage Logo" class="logo-icon">
            <h1 data-i18n="appTitle">Space Voyage</h1>
        </div>
        <div class="header-controls">
            <nav id="quick-nav" aria-label="Quick navigation">
                <div class="nav-search-wrapper">
                    <input type="text" id="nav-search" class="nav-search" data-i18n-placeholder="search" placeholder="Search..." aria-label="Search celestial objects">
                    <select id="object-dropdown" class="nav-dropdown" aria-label="Navigate to celestial object">
                    <option value="" selected data-i18n="quickNavigation">Navigation</option>
                    <optgroup label="Our Star" data-i18n="ourStar">
                        <option value="sun" data-i18n="sun">Sun</option>
                    </optgroup>
                    <optgroup label="Mercury" data-i18n="mercury">
                        <option value="mercury" data-i18n="mercury">Mercury</option>
                    </optgroup>
                    <optgroup label="Venus" data-i18n="venus">
                        <option value="venus" data-i18n="venus">Venus</option>
                    </optgroup>
                    <optgroup label="Earth System" data-i18n="earthSystem">
                        <option value="earth" data-i18n="earth">Earth</option>
                        <option value="moon" data-i18n="moon">Moon</option>
                    </optgroup>
                    <optgroup label="Mars System" data-i18n="marsSystem">
                        <option value="mars" data-i18n="mars">Mars</option>
                        <option value="phobos" data-i18n="phobos">Phobos</option>
                        <option value="deimos" data-i18n="deimos">Deimos</option>
                    </optgroup>
                    <optgroup label="Jupiter System" data-i18n="jupiterSystem">
                        <option value="jupiter" data-i18n="jupiter">Jupiter</option>
                        <option value="io" data-i18n="io">Io</option>
                        <option value="europa" data-i18n="europa">Europa</option>
                        <option value="ganymede" data-i18n="ganymede">Ganymede</option>
                        <option value="callisto" data-i18n="callisto">Callisto</option>
                    </optgroup>
                    <optgroup label="Saturn System" data-i18n="saturnSystem">
                        <option value="saturn" data-i18n="saturn">Saturn</option>
                        <option value="titan" data-i18n="titan">Titan</option>
                        <option value="enceladus" data-i18n="enceladus">Enceladus</option>
                        <option value="rhea" data-i18n="rhea">Rhea</option>
                    </optgroup>
                    <optgroup label="Uranus System" data-i18n="uranusSystem">
                        <option value="uranus" data-i18n="uranus">Uranus</option>
                        <option value="titania" data-i18n="titania">Titania</option>
                        <option value="miranda" data-i18n="miranda">Miranda</option>
                    </optgroup>
                    <optgroup label="Neptune System" data-i18n="neptuneSystem">
                        <option value="neptune" data-i18n="neptune">Neptune</option>
                        <option value="triton" data-i18n="triton">Triton</option>
                    </optgroup>
                    <optgroup label="Pluto System" data-i18n="plutoSystem">
                        <option value="pluto" data-i18n="pluto">Pluto</option>
                        <option value="charon" data-i18n="charon">Charon</option>
                    </optgroup>
                    <optgroup label="Dwarf Planets & Candidates" data-i18n="dwarfPlanets">
                        <option value="ceres" data-i18n="ceres">Ceres</option>
                        <option value="haumea" data-i18n="haumea">Haumea</option>
                        <option value="makemake" data-i18n="makemake">Makemake</option>
                        <option value="eris" data-i18n="eris">Eris</option>
                        <option value="orcus" data-i18n="orcus">Orcus</option>
                        <option value="quaoar" data-i18n="quaoar">Quaoar</option>
                        <option value="gonggong" data-i18n="gonggong">Gonggong</option>
                        <option value="sedna" data-i18n="sedna">Sedna</option>
                        <option value="salacia" data-i18n="salacia">Salacia</option>
                        <option value="varda" data-i18n="varda">Varda</option>
                        <option value="varuna" data-i18n="varuna">Varuna</option>
                    </optgroup>
                    <optgroup label="Comets" data-i18n="comets">
                        <option value="halley" data-i18n="halley">Halley's Comet</option>
                        <option value="hale-bopp" data-i18n="haleBopp">Hale-Bopp</option>
                        <option value="hyakutake" data-i18n="hyakutake">Hyakutake</option>
                        <option value="lovejoy" data-i18n="lovejoy">Lovejoy</option>
                        <option value="encke" data-i18n="encke">Encke</option>
                        <option value="swift-tuttle" data-i18n="swiftTuttle">Swift-Tuttle</option>
                    </optgroup>
                    <optgroup label="Nearby Stars" data-i18n="nearbyStars">
                        <option value="alpha-centauri" data-i18n="alphaCentauri">Alpha Centauri</option>
                        <option value="proxima-centauri" data-i18n="proximaCentauri">Proxima Centauri</option>
                    </optgroup>
                    <optgroup label="Exoplanets" data-i18n="exoplanets">
                        <option value="proxima-b" data-i18n="proximaB">Proxima Centauri b</option>
                        <option value="kepler-452b" data-i18n="kepler452b">Kepler-452b</option>
                        <option value="trappist-1e" data-i18n="trappist1e">TRAPPIST-1e</option>
                        <option value="kepler-186f" data-i18n="kepler186f">Kepler-186f</option>
                    </optgroup>
                    <optgroup label="Nebulae" data-i18n="nebulae">
                        <option value="orion-nebula" data-i18n="orionNebula">Orion Nebula</option>
                        <option value="crab-nebula" data-i18n="crabNebula">Crab Nebula</option>
                        <option value="ring-nebula" data-i18n="ringNebula">Ring Nebula</option>
                    </optgroup>
                    <optgroup label="Galaxies" data-i18n="galaxies">
                        <option value="andromeda-galaxy" data-i18n="andromedaGalaxy">Andromeda Galaxy</option>
                        <option value="whirlpool-galaxy" data-i18n="whirlpoolGalaxy">Whirlpool Galaxy</option>
                        <option value="sombrero-galaxy" data-i18n="sombreroGalaxy">Sombrero Galaxy</option>
                    </optgroup>
                    <optgroup label="Constellations (Zodiac)" data-i18n="constellationsZodiac">
                        <option value="constellation-aries" data-i18n="aries">Aries</option>
                        <option value="constellation-taurus" data-i18n="taurus">Taurus</option>
                        <option value="constellation-gemini" data-i18n="gemini">Gemini</option>
                        <option value="constellation-cancer" data-i18n="cancer">Cancer</option>
                        <option value="constellation-leo" data-i18n="leo">Leo</option>
                        <option value="constellation-virgo" data-i18n="virgo">Virgo</option>
                        <option value="constellation-libra" data-i18n="libra">Libra</option>
                        <option value="constellation-scorpius" data-i18n="scorpius">Scorpius</option>
                        <option value="constellation-sagittarius" data-i18n="sagittarius">Sagittarius</option>
                        <option value="constellation-capricornus" data-i18n="capricornus">Capricornus</option>
                        <option value="constellation-aquarius" data-i18n="aquarius">Aquarius</option>
                        <option value="constellation-pisces" data-i18n="pisces">Pisces</option>
                    </optgroup>
                    <optgroup label="Constellations (Other)" data-i18n="constellationsOther">
                        <option value="constellation-orion" data-i18n="orion">Orion</option>
                        <option value="constellation-big-dipper" data-i18n="bigDipper">Big Dipper</option>
                        <option value="constellation-little-dipper" data-i18n="littleDipper">Little Dipper</option>
                        <option value="constellation-southern-cross" data-i18n="southernCross">Southern Cross</option>
                        <option value="constellation-cassiopeia" data-i18n="cassiopeia">Cassiopeia</option>
                        <option value="constellation-cygnus" data-i18n="cygnus">Cygnus</option>
                        <option value="constellation-lyra" data-i18n="lyra">Lyra</option>
                        <option value="constellation-andromeda" data-i18n="andromeda">Andromeda</option>
                        <option value="constellation-perseus" data-i18n="perseus">Perseus</option>
                    </optgroup>
                    <optgroup label="Spacecraft & Probes" data-i18n="navSpacecraft">
                        <option value="iss" data-i18n="iss">ISS</option>
                        <option value="hubble" data-i18n="hubble">Hubble</option>
                        <option value="jwst" data-i18n="jwst">James Webb Space Telescope</option>
                        <option value="gps-navstar" data-i18n="gpsNavstar">GPS Satellite (NAVSTAR)</option>
                        <option value="voyager-1" data-i18n="voyager1">Voyager 1</option>
                        <option value="voyager-2" data-i18n="voyager2">Voyager 2</option>
                        <option value="new-horizons" data-i18n="newHorizons">New Horizons</option>
                        <option value="juno" data-i18n="juno">Juno (Jupiter)</option>
                        <option value="cassini" data-i18n="cassini">Cassini (Saturn)</option>
                        <option value="pioneer-10" data-i18n="pioneer10">Pioneer 10</option>
                        <option value="pioneer-11" data-i18n="pioneer11">Pioneer 11</option>
                    </optgroup>
                </select>
                </div>
            </nav>
            <select id="language-selector" class="language-selector" aria-label="Select language">
                <option value="en">English</option>
                <option value="nl">Nederlands</option>
                <option value="fr">Fran√ßais</option>
                <option value="de">Deutsch</option>
                <option value="es">Espa√±ol</option>
                <option value="pt">Portugu√™s</option>
            </select>
        </div>
    </header>
    <main id="canvas-container" aria-label="3D visualization canvas"></main>
    
    <div id="loading" role="status" aria-live="polite">
        <div class="loading-header">
            <h2 data-i18n="preparingJourney">Preparing your space journey...</h2>
        </div>
        <div class="loading-spinner"></div>
        <p id="loading-text" data-i18n="initializing">Initializing...</p>
        <div id="loading-progress">
            <div id="loading-progress-bar"></div>
        </div>
        <p id="loading-percentage">0%</p>
        <div id="loading-fact" class="space-fact">
            <span class="fact-icon">üí°</span>
            <span id="fact-text">The Sun contains 99.86% of the Solar System's mass!</span>
        </div>
    </div>
    <aside id="info-panel" class="hidden draggable-panel" role="complementary" aria-labelledby="object-name" aria-hidden="true">
        <div class="panel-header">
            <h2 id="object-name" class="drag-handle" data-i18n="selectObject" title="Drag to move">Select an Object</h2>
            <button class="close-btn" onclick="window.closeInfoPanel()" aria-label="Close information panel" tabindex="0">‚úï</button>
        </div>
        <div class="info-content">
            <p><strong data-i18n="type">Type:</strong> <span id="object-type" aria-live="polite">-</span></p>
            <p><strong data-i18n="distance">Distance:</strong> <span id="object-distance" aria-live="polite">-</span></p>
            <p><strong data-i18n="size">Size:</strong> <span id="object-size" aria-live="polite">-</span></p>
            <div id="object-description" class="description-box" data-i18n="clickToExplore" aria-live="polite">
                Click on objects to explore and learn more
            </div>
        </div>
    </aside>

    <!-- Floating Speed Control (Collapsible) -->
    <div id="speed-control" class="draggable-panel" role="region" aria-label="Animation speed control">
        <div class="panel-header">
            <button id="speed-toggle" class="speed-toggle-btn" aria-expanded="true" aria-controls="speed-panel-content" title="Toggle speed panel">
                <span id="speed-compact-label" class="speed-compact-label">1x</span>
                <svg class="collapse-chevron" viewBox="0 0 12 12" width="12" height="12"><path d="M2 4L6 8L10 4" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </button>
        </div>
        <div id="speed-panel-content" class="panel-content">
            <input type="range" id="time-speed" min="0" max="100" value="50" step="1" aria-label="Animation speed" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50" />
            <span id="time-speed-label" data-i18n="realTime" aria-live="polite">1x</span>
        </div>
    </div>
    <!-- Bottom Bar -->
    <footer id="main-footer" role="contentinfo" aria-label="Control panel">
        <div class="footer-controls" role="group" aria-label="View controls">
            <button id="toggle-orbits" aria-label="Toggle orbital paths" aria-pressed="false" data-tooltip="Show/hide orbital paths (O)" data-i18n="toggleOrbits" data-i18n-tooltip="tooltipOrbits"><span class="btn-icon">ü™ê</span><span class="btn-text">Orbits</span></button>
            <button id="toggle-constellations" aria-label="Toggle constellations" aria-pressed="false" data-tooltip="Show/hide star constellations (C)" data-i18n="toggleConstellations" data-i18n-tooltip="tooltipConstellations"><span class="btn-icon">‚≠ê</span><span class="btn-text">Stars</span></button>
            <button id="toggle-details" aria-label="Toggle details" aria-pressed="false" data-tooltip="Toggle object labels (D)" data-i18n="toggleLabels" data-i18n-tooltip="tooltipLabels"><span class="btn-icon">üè∑Ô∏è</span><span class="btn-text">Labels</span></button>
            <button id="toggle-scale" aria-label="Toggle scale mode" aria-pressed="true" class="scale-btn active" data-tooltip="Switch between compact and expanded scale (S)" data-i18n="toggleScale" data-i18n-tooltip="tooltipScale"><span class="btn-icon">üìè</span><span class="btn-text">Scale</span></button>
            <button id="sound-toggle" aria-label="Toggle sound effects" aria-pressed="false" data-tooltip="Toggle sound effects" data-i18n-tooltip="tooltipSound"><span class="btn-icon">üîä</span><span class="btn-text">Sound</span></button>
            <button id="reset-view" aria-label="Reset camera view" data-tooltip="Reset camera to default view (R)" data-i18n="resetView" data-i18n-tooltip="tooltipReset"><span class="btn-icon">üîÑ</span><span class="btn-text">Reset</span></button>
            <button id="random-discovery" aria-label="Discover random object" data-tooltip="Surprise me! Jump to a random object" data-i18n="randomDiscovery" data-i18n-tooltip="tooltipDiscover"><span class="btn-icon">üé≤</span><span class="btn-text">Discover</span></button>
            <button id="help-button" aria-label="Show help" data-tooltip="Show controls and features (H)" data-i18n="help" data-i18n-tooltip="tooltipHelp"><span class="btn-icon">‚ùì</span><span class="btn-text">Help</span></button>
        </div>
        
        <div class="footer-xr-controls" role="group" aria-label="Extended reality controls">
            <div id="vr-button" class="hidden" aria-live="polite"></div>
            <div id="ar-button" class="hidden" aria-live="polite"></div>
        </div>
    </footer>
    
    <div id="fps-counter" class="hidden" aria-live="polite">FPS: <span id="fps-value">60</span></div>
    
    <!-- Hover Label for 3D Objects -->
    <div id="hover-label" role="tooltip" aria-live="polite" aria-label="Object name"></div>
    
    <!-- First-Time Onboarding Overlay -->
    <div id="onboarding-overlay" class="hidden" role="dialog" aria-labelledby="onboarding-title" aria-modal="true">
        <div class="onboarding-content">
            <div class="onboarding-header">
                <h2 id="onboarding-title" data-i18n="welcomeToSpace">üöÄ Welcome to Space Voyage!</h2>
                <button class="onboarding-skip" id="onboarding-skip" aria-label="Skip tutorial" data-i18n="skip">Skip</button>
            </div>
            <div class="onboarding-steps">
                <div class="onboarding-step active" data-step="1">
                    <div class="step-icon">üñ±Ô∏è</div>
                    <h3 data-i18n="onboardingNav">Navigate the Universe</h3>
                    <p data-i18n="onboardingNavDesc">Drag to rotate ‚Ä¢ Scroll to zoom ‚Ä¢ Right-click to pan</p>
                </div>
                <div class="onboarding-step" data-step="2">
                    <div class="step-icon">ü™ê</div>
                    <h3 data-i18n="onboardingExplore">Explore Objects</h3>
                    <p data-i18n="onboardingExploreDesc">Click any planet, moon, or star to learn fascinating facts!</p>
                </div>
                <div class="onboarding-step" data-step="3">
                    <div class="step-icon">üß≠</div>
                    <h3 data-i18n="onboardingQuickNav">Quick Navigation</h3>
                    <p data-i18n="onboardingQuickNavDesc">Use the dropdown menu to jump directly to any object</p>
                </div>
            </div>
            <div class="onboarding-nav">
                <div class="onboarding-dots">
                    <button class="dot active" data-step="1" aria-label="Step 1"></button>
                    <button class="dot" data-step="2" aria-label="Step 2"></button>
                    <button class="dot" data-step="3" aria-label="Step 3"></button>
                </div>
                <button id="onboarding-next" class="btn-primary" data-i18n="next">Next</button>
                <button id="onboarding-start" class="btn-primary hidden" data-i18n="startExploring">Start Exploring! üåü</button>
            </div>
        </div>
    </div>
    
    <!-- Mobile Gesture Hints -->
    <div id="gesture-hints" class="hidden" role="status" aria-live="polite">
        <div class="gesture-hint" id="gesture-pinch">
            <div class="gesture-icon">ü§è</div>
            <span data-i18n="pinchToZoom">Pinch to zoom</span>
        </div>
        <div class="gesture-hint" id="gesture-drag">
            <div class="gesture-icon">üëÜ</div>
            <span data-i18n="dragToRotate">Drag to rotate</span>
        </div>
    </div>
    
    <!-- Tracking Mode Indicator - REMOVED (was distracting)
    <div id="tracking-indicator" role="status" aria-live="polite">
        <div class="tracking-icon"></div>
        <span class="tracking-text">Tracking Object</span>
        <button class="tracking-close" aria-label="Stop tracking" title="Stop tracking">‚úï</button>
    </div>
    -->
    
    <!-- PWA Install Prompt -->
    <div id="install-prompt" class="hidden" role="dialog" aria-labelledby="install-title">
        <div class="install-content">
            <div class="install-icon">üì≤</div>
            <h3 id="install-title" data-i18n="installTitle">Install Space Voyage</h3>
            <p data-i18n="installMessage">Install this app for a better experience and offline access!</p>
            <div class="install-buttons">
                <button id="install-accept" class="btn-primary" data-i18n="install">Install</button>
                <button id="install-dismiss" class="btn-secondary" data-i18n="notNow">Not Now</button>
            </div>
        </div>
    </div>
    
    <!-- Offline Indicator -->
    <div id="offline-indicator" class="hidden" role="status" aria-live="polite">
        <span class="offline-icon">üì°</span>
        <span class="offline-text" data-i18n="offlineMode">You're offline</span>
    </div>
    
    <!-- Update Available Notification -->
    <div id="update-notification" class="hidden" role="status" aria-live="polite">
        <span class="update-icon">üîÑ</span>
        <span class="update-text" data-i18n="updateAvailable">Update available!</span>
        <button id="update-reload" class="btn-update" data-i18n="update">Update</button>
        <button id="update-dismiss" class="btn-dismiss">‚úï</button>
    </div>
    
    <!-- Help Modal -->
    <div id="help-modal" class="modal hidden" role="dialog" aria-labelledby="help-title" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" onclick="window.closeHelpModal()" aria-label="Close help dialog">‚úï</button>
            <h2 id="help-title">‚ùì Help & Controls</h2>
            <div id="help-content" role="document"></div>
        </div>
    </div>
    <!-- Import Map for Three.js from CDN -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>
    
    <!-- Main Application Script with cache buster -->
    <script type="module" src="./src/main.js?v=2.5.23"></script>
    
    <!-- Initialize Modules -->
    <script type="module">
        import { panelManager } from './src/modules/PanelManager.js';
        import { serviceWorkerManager } from './src/modules/ServiceWorkerManager.js';
        import { pwaManager } from './src/modules/PWAManager.js';
        
        // Initialize all managers
        panelManager.init();
        serviceWorkerManager.init();
        pwaManager.init();
    </script>
</body>
</html>
